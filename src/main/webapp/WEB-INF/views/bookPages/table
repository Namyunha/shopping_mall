create table book_table  (
    id bigint auto_increment not null primary key,
    bookName varchar(50) not null,
    bookPublisher varchar(20) not null,
    bookAuthor varchar(20) not null,
    bookPrice int
);
insert into book_table(bookName, bookPublisher, bookAuthor, bookPrice)
	value('세이노의 가르침', '데이원', '세이노', 6480);
select * from book_table;
drop table if exists book_table;

create table member_table (
	id bigint auto_increment primary key,
    memberEmail varchar(50) unique,
    memberPassword varchar(20) not null,
    memberName varchar(20) not null,
    memberBirth date not null,
    memberMobile varchar(30) not null
);
insert into member_table(memberEmail, memberPassword, memberName, memberBirth, memberMobile)
	value('ajs998@naver.com', '1234', '세이노', 19950623, '01068441656');
select * from member_table;
drop table if exists member_table2;

create table member_table2 (
	id bigint auto_increment primary key,
    memberId varchar(20) unique not null,
    memberPassword varchar(20) not null,
    memberName varchar(20) not null,
    memberBirth date not null,
    gender varchar(10),
    memberEmail varchar(50) unique,
    memberMobile varchar(30) not null
);

insert into member_table2(memberId, memberPassword, memberName, memberBirth, gender, memberEmail, memberMobile)
	value('ajs998', '1234', '남윤하', 19950623, '남', 'ajs998@naver.com', '01068441656');
select * from member_table2;

drop table if exists board_table;
drop table if exists board_file_table;



insert into Board_table (boardWriter, boardPass, boardTitle, boardContents,fileAttached)
	value('남윤하', '12345', '자바는즐거워',"더즐겁다", 1);
insert into Board_table (boardWriter, boardPass, boardTitle, boardContents)
	value('이은수', '678910', '파이썬은 즐거워',"이게더즐겁다");
drop table if exists board_table;
drop table if exists board_file_table;
drop table if exists comment_table;
drop table if exists member_table;
drop table if exists member_file_table;

select * from board_table;
select * from board_file_table;
insert into board_file_table (original_file_name, stored_file_name, board_id)
	value('잡아', '잡아잡아', 1);

create table board_file_table(
	id bigint auto_increment primary key,
    originalFileName varchar(100),
    storedFileName varchar(100),
    boardId bigint,
    constraint fk_board_file_table foreign key(boardId) references board_table(id) on delete cascade
);

create table comment_table(
	id bigint auto_increment primary key,
    commentWriter varchar(20),
    commentContents varchar(200),
    boardId bigint ,
	commentCreateDate datetime default now(),
	constraint fk_comment foreign key (boardId) references board_table (id) on delete cascade
);
create table member_table(
	id bigint auto_increment primary key,
    memberId varchar(20) not null unique,
    memberPassword varchar(20) not null,
    memberName varchar(20) not null,
    memberBirth varchar(20),
    gender varchar(10) not null,
    memberEmail varchar(20) not null unique,
    memberMobile varchar(20) not null unique,
    fileAttached int default 0
);

insert into member_table(memberId, memberPassword, memberName, gender, memberEmail, memberMobile)
	value('admin', '1234', '관리자', '남', 'admin@admin.com', '010-1111-1111');

drop table if exists admint_table;

create table admin_table(
	adminId varchar(20),
    adminPassword varchar(20)
);

insert into admin_table (adminId, adminPassword)
	values('admin', 999);

select * from admin_table;

create table board_table (
	id bigint auto_increment primary key,
    boardWriter varchar(50) ,
    boardPass varchar(20) not null,
    boardTitle varchar(50) not null,
    boardContents varchar(500) not null,
    boardCreatedDate datetime default now(),
    boardHits bigint default 0,
    fileAttached int default 0,
    memberId bigint,
    constraint fk_board_table foreign key(memberId) references member_table(id) on delete cascade
);
create table member_file_table(
	id bigint auto_increment primary key,
    originalFileName varchar(100),
    storedFileName varchar(100),
    MemberId bigint,
    constraint fk_board_file_table_board_table foreign key(MemberId) references member_table(id) on delete cascade
);

select * from member_file_table;
select * from member_table;
select * from member_table m, member_file_table f where m.id = f.MemberId;

create table book_table (
	id bigint auto_increment primary key,
    bookName varchar(50) not null,
    unitPrice bigint not null,
    unitsInStock bigint not null default 0, -- 재고수 --
    author varchar(30),  -- 설명 --
    descript varchar(10), -- 출판사 --
    publisher varchar(10),
    category varchar(10),
    conditions varchar(10),
    fileAttached int default 0
);

create table book_file_table(
	id bigint auto_increment primary key,
    originalFileName varchar(100),
    storedFileName varchar(100),
    bookId bigint,
    constraint fk_book_file_table_book_table foreign key(bookId) references book_table(id) on delete cascade
);

select * from book_table;
select * from book_file_table;

